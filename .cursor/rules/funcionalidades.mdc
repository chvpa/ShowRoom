---
description: 
globs: 
alwaysApply: true
---

# Your rule content

# ðŸ“¦ ShowRoom â€“ Funcionalidades Completas

## ðŸ§© DescripciÃ³n general

ShowRoom es una plataforma web privada desarrollada para clientes mayoristas, permitiendo la gestiÃ³n completa de catÃ¡logos por marca, carga de pedidos, administraciÃ³n de preventas, gestiÃ³n de ofertas y control de usuarios con diferentes niveles de permisos.

La app estÃ¡ diseÃ±ada para ser:
- RÃ¡pida
- Escalable
- Segura
- FÃ¡cil de mantener

Stack tecnolÃ³gico:
- React + Vite + TypeScript
- Tailwind CSS + Shadcn UI
- Supabase (Base de datos, Auth, Policies)
- Utilidades para carga por CSV, exportaciÃ³n Excel, generaciÃ³n de PDFs

---

## ðŸ‘¥ Tipos de usuarios

### Cliente
- Inicia sesiÃ³n con email y contraseÃ±a
- Ve solo las marcas habilitadas
- Accede al showroom de la marca:
  - Rubros (prendas, calzados, accesorios)
  - Listado de productos con filtros: gÃ©nero, silueta, precio
  - Detalles de cada producto: imÃ¡genes, tallas, curvas
- Agrega productos al carrito por talla o por curva
- Edita cantidades dentro del carrito
- Finaliza el pedido y descarga el PDF de resumen para enviar al vendedor
- Consulta el historial de pedidos:
  - Fecha
  - Total de artÃ­culos
  - Total en monto
  - Descarga del PDF
- Accede a la secciÃ³n de preventa si estÃ¡ habilitado:
  - Visualiza productos de temporadas activas
  - Carga pedidos de preventa
  - Descarga PDF del pedido de preventa

---

### Admin
- Todo lo que hace un Cliente âœ…
- Gestiona productos de sus marcas asignadas:
  - Carga de productos por CSV
  - ActivaciÃ³n/desactivaciÃ³n de productos
  - ExportaciÃ³n de stock actual a Excel
- Gestiona preventas:
  - Crea nuevas temporadas (ej: SS26, FW26)
  - Carga productos por CSV dentro de la temporada
  - Activa o desactiva la ventana de compra de la preventa
- Gestiona ofertas:
  - Crea o elimina ofertas por producto o rubro
  - Define descuentos por cantidad mÃ­nima (ej.: 10 curvas = 5% off)
  - Visualiza ofertas activas en showroom y aplica descuentos en carrito

---

### Superadmin
- Todo lo que hace un Admin y un Cliente âœ…
- Control total sobre:
  - Usuarios:
    - Crear, editar, borrar superadmins, admins y clientes
    - Asignar marcas visibles y permisos de preventa a usuarios
  - Marcas:
    - Crear y editar marcas
    - Definir nombre, logo, y rubros disponibles
  - Preventas:
    - Control absoluto de temporadas y ventanas de compra
  - Ofertas:
    - Control de todas las ofertas creadas por cualquier admin

---

## ðŸ›ï¸ CatÃ¡logo de productos

- Productos cargados por marca
- Rubros configurables: prendas, calzados, accesorios
- Cada producto incluye:
  - CÃ³digo, descripciÃ³n
  - GÃ©nero, categorÃ­a, silueta
  - Precio y estado comercial
  - Tallas disponibles y cantidades
  - Curvas predefinidas por producto
  - Hasta 5 imÃ¡genes por producto
- VisualizaciÃ³n optimizada:
  - Filtros por gÃ©nero, silueta, precio
  - Selector de cantidad por talla o curva
  - AÃ±adir al carrito

---

## ðŸ›’ Carrito y pedidos

- Agregar productos al carrito desde catÃ¡logo o detalle del producto
- EdiciÃ³n flexible de cantidades por talla dentro del carrito
- VisualizaciÃ³n de resumen de pedido antes de finalizar
- GeneraciÃ³n de PDF con detalle de pedido para enviar al vendedor
- Historial de pedidos por usuario
- Posibilidad de volver a descargar los PDFs de pedidos pasados

---

## ðŸ“¦ Preventa

- CatÃ¡logo separado con productos de temporadas futuras (ej.: SS26, FW26)
- Los admins crean y cargan productos para cada temporada
- Ventana de compra controlada por admins y superadmin (activar/desactivar)
- Solo clientes habilitados pueden visualizar preventa
- Pedido de preventa se descarga en PDF igual que el pedido regular

---

## ðŸ·ï¸ Ofertas

- SecciÃ³n flexible para admins y superadmins
- Tipos de oferta:
  - Por producto especÃ­fico
  - Por rubro completo
  - Por volumen mÃ­nimo de compra (curvas o cantidad de unidades)
- Las ofertas se visualizan en el showroom y se aplican automÃ¡ticamente en el carrito si se cumplen las condiciones
- Descuentos reflejados en el resumen de pedido y PDF final

---

## ðŸ”’ Seguridad

- Supabase con Row-Level Security (RLS) para controlar el acceso a datos sensibles
- AutenticaciÃ³n robusta por email y contraseÃ±a
- Accesos diferenciados por tipo de usuario
- ValidaciÃ³n de datos cargados y exportados
- Evita exposiciones de API keys y variables sensibles

---

## âš¡ Performance y escalabilidad

- Preparado para manejar catÃ¡logos con miles de productos y usuarios
- Carga de productos optimizada por CSV
- ExportaciÃ³n eficiente de stock a Excel
- Pensado para implementar caching avanzado y lazy loading
- Paginations y bÃºsqueda eficiente en listados grandes
- Preparado para conexiÃ³n de servicios externos (como APIs de logÃ­stica o facturaciÃ³n en el futuro)

---

## ðŸš€ Roadmap de mejoras futuras

- âœ… Implementar caching con SWR o similar para evitar consultas innecesarias
- âœ… Mejorar SEO con meta tags dinÃ¡micos y buenas prÃ¡cticas de accesibilidad
- âœ… OptimizaciÃ³n avanzada para performance en grandes volÃºmenes de datos
- âœ… PreparaciÃ³n para conversiÃ³n a PWA para experiencia mobile optimizada
- âœ… ConfiguraciÃ³n de tests automÃ¡ticos (unitarios y end-to-end)

---

> _Este documento describe el estado actual y proyectado de la plataforma ShowRoom. Mantener actualizado para referencia del equipo y escalabilidad del proyecto._

